<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<title>Group1</title>
<head> 
<meta charset="ISO-8859-1">
    <title> School District Selection </title>
</head>
<body style="background-color:#444444;" text="white" onload="hideLoading()">
	<form
	  th:action="@{/{state}(state=${state})}" 
	  method="post">
 		<input type="submit" name="Go back!" value="Go back!" id="goBack">
	</form>
	
    	<div style="display: flex; justify-content: flex-start;">
    	
	    	<p> <b>State:&nbsp; </b></p>
	    	<p style="color:#0AE840" th:object="${state}" th:text="${state}"></p>
	    	<p>&nbsp;&nbsp;&nbsp;</p>
	    
	    	<p><b>County:&nbsp;</b></p>
	    	<p style="color:#0AE840" th:object="${countyN}" th:text="${countyN}"></p>
	    	<p>&nbsp;&nbsp;&nbsp;</p>
	    	<p>		
	    	
  	    		<label style="padding-left:10px;">Select a school district:</label>
          			<select name="district" id="district"  onchange="location = this.value;">
          				<option value=""></option>
            			<option th:each="districts : ${districts}" th:text="${districts}" 
           				 th:value="@{'state/'+${districts}}"></option>
          			</select> 
 			</p>
	    	
	   
    	</div>
    	<p id="showLoading" style="visibility:hidden; text-align: center; line-height:500px;">loading... </p>
<script>
	var district = document.getElementById('district');
	var showLoading = document.getElementById('showLoading');
	
	district.addEventListener('change', function()
	  {
		if(this.value.length < 1){
	        document.querySelector("body").style.visibility = "visible";
	    }
	
	    if(this.value.length > 1) {
	        document.querySelector(
	        "body").style.visibility = "hidden";
	        
	        showLoading.style.visibility = "visible";
	    }
	  });
	  
	  var goBack = document.getElementById('goBack');
	goBack.addEventListener('click', function()
	  {
		if(this.value.length < 1){
	        document.querySelector("body").style.visibility = "visible";
	    }
	
	    if(this.value.length > 1) {
	        document.querySelector(
	        "body").style.visibility = "hidden";
	        
	        showLoading.style.visibility = "visible";
	    }
	  });
	  
	  function hideLoading() {
	  		showLoading.style.visibility = "hidden";
	  }
            
            
              
</script>    	
    		
</body>
</html>


